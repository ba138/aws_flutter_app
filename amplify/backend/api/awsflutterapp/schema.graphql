### üõçÔ∏è PRODUCT
type Product
@model
@auth(rules: [
  { allow: owner, ownerField: "owner", operations: [create, update, delete] },
  { allow: private, operations: [read] }
]) {
  id: ID!
  owner: String
  name: String!
  description: String!
  price: Float!
  imagePath: String!
  createdAt: AWSDateTime
}

### ‚ù§Ô∏è FAVORITE
type Favorite
@model
@auth(rules: [
  { allow: owner }
]) {
  id: ID!
  userId: String!
  productId: ID!
  createdAt: AWSDateTime
}

### üõí CART
type CartItem
@model
@auth(rules: [
  { allow: owner }
]) {
  id: ID!
  userId: String!
  productId: ID!
  quantity: Int!
  createdAt: AWSDateTime
}

### üí¨ MESSAGE
type Message
@model
@auth(rules: [
  { allow: owner, ownerField: "senderId" },
  { allow: owner, ownerField: "receiverId", operations: [read] }
]) {
  id: ID!
  conversationId: String!
    @index(
      name: "byConversation",
      sortKeyFields: ["createdAt"],
      queryField: "messagesByConversation"
    )
  senderId: String!
  receiverId: String!
  text: String!
  createdAt: AWSDateTime!
}

### üì¨ CONVERSATION (INBOX)
type Conversation
@model
@auth(rules: [
  { allow: owner, ownerField: "userA" },
  { allow: owner, ownerField: "userB" }
]) {
  id: ID!
  userA: String!
  userB: String!
  lastMessage: String
  updatedAt: AWSDateTime
}
